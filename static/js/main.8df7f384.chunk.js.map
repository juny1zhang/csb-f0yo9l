{"version":3,"sources":["components/Footer/Footer.js","components/GameBox/index.js","components/Header/Header.js","components/Tool/index.js","constant/constant.js","App.js","index.js"],"names":["Footer","props","className","style","cardStack","map","e","index","id","onClick","width","height","backgroundImage","imageUrl","backgroundSize","boxShadow","backgroundRepeat","GameBox","cardList","clickItem","Header","display","justifyContent","Tool","alignItems","padding","position","bottom","images","App","appRef","useRef","useState","setCardStack","canClearIndex","setCanClearIndex","useEffect","console","log","splice","length","alert","setCardList","itemWidth","setWidthState","Number","window","getComputedStyle","current","split","initList","i","push","Math","floor","random","ref","item","findOne","rootElement","document","getElementById","createRoot","render"],"mappings":"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","file":"static/js/main.8df7f384.chunk.js","sourcesContent":["import \"./index.css\";\nconst Footer = function (props) {\n  return (\n    <div className=\"footer-box\" style={props.style}>\n      {props.cardStack.map((e, index) => (\n        <div\n          id={index}\n          onClick={() => {}}\n          style={{\n            width: e.width,\n            height: e.width,\n            backgroundImage: `url(${e.imageUrl})`,\n            backgroundSize: \"contain\",\n            boxShadow: \"0px 2px 5px green\",\n            backgroundRepeat: \"no-repeat\"\n          }}\n        ></div>\n      ))}\n    </div>\n  );\n};\nexport default Footer;\n","import \"./index.css\";\n\nexport default function GameBox(props) {\n  return (\n    <div className=\"gamebox\">\n      {props.cardList.map((e, index) => (\n        <div\n          id={index}\n          onClick={() => {\n            props.clickItem(e);\n          }}\n          style={{\n            width: e.width,\n            height: e.width,\n            backgroundImage: `url(${e.imageUrl})`,\n            backgroundSize: \"contain\",\n            boxShadow: \"0px 2px 5px green\",\n            backgroundRepeat: \"no-repeat\"\n          }}\n        ></div>\n      ))}\n    </div>\n  );\n}\n","const Header = function () {\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        justifyContent: \"center\"\n      }}\n    >\n      <h3>每日一关</h3>\n    </div>\n  );\n};\nexport default Header;\n","import \"./index.css\";\n\nexport default function Tool() {\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        width: \"calc(100% - 120px)\",\n        padding: \"0 40px\",\n        position: \"absolute\",\n        bottom: 20\n      }}\n    >\n      <div>移除前3个</div>\n      <div>撤回</div>\n      <div>刷新</div>\n    </div>\n  );\n}\n","export const images = [\n  \"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimg.zcool.cn%2Fcommunity%2F01153560331d7c11013f37456a37c3.jpg%402o.jpg&refer=http%3A%2F%2Fimg.zcool.cn&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1666710068&t=e2c8d3b53007810dd01e747c49635155\",\n  \"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fc-ssl.duitang.com%2Fuploads%2Fitem%2F201312%2F05%2F20131205172421_QKF4K.thumb.1000_0.jpeg&refer=http%3A%2F%2Fc-ssl.duitang.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1666710103&t=fe9ad0fe9b73473fca92e0db9663a474\",\n  \"https://img1.baidu.com/it/u=1370744237,4218347367&fm=253&app=138&size=w931&n=0&f=JPEG&fmt=auto?sec=1664211600&t=4945376c55fe0ef549bab4d2c0e4cb1d\",\n  \"https://img0.baidu.com/it/u=2220217573,2388124362&fm=253&app=138&size=w931&n=0&f=JPEG&fmt=auto?sec=1664298000&t=eaffc2a71d24efff95dea409f2abc77f\",\n  \"https://img0.baidu.com/it/u=2387719680,3376575817&fm=253&app=138&size=w931&n=0&f=JPEG&fmt=auto?sec=1664298000&t=aafff885d6941ef55f7ebc3f821f5164\",\n  \"https://img1.baidu.com/it/u=1990453118,1161937605&fm=253&app=138&size=w931&n=0&f=JPEG&fmt=auto?sec=1664298000&t=0688d755966ce314a31f2b32cd4168c7\",\n  \"https://img2.baidu.com/it/u=3693113167,1040718683&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500\"\n];\n","import { useEffect, useRef, useState } from \"react\";\nimport Footer from \"./components/Footer/Footer\";\nimport GameBox from \"./components/GameBox\";\nimport Header from \"./components/Header/Header\";\nimport Tool from \"./components/Tool\";\nimport { images } from \"./constant/constant\";\nimport \"./styles.css\";\n\nexport default function App() {\n  const appRef = useRef();\n  const [cardStack, setCardStack] = useState([]);\n  const [canClearIndex, setCanClearIndex] = useState(-1);\n  const clickItem = (item) => {\n    console.log(item);\n    let findOne = false;\n    let canClear = false;\n    for (let i = 0; i < cardStack.length; i++) {\n      console.log(i, cardStack[i]);\n      if (cardStack[i].imageUrl === item.imageUrl) {\n        if (cardStack[i + 1]?.imageUrl === item.imageUrl) {\n          setCanClearIndex(i);\n          canClear = true;\n        }\n        cardStack.splice(i, 0, item);\n        findOne = true;\n        break;\n      }\n    }\n    if (!findOne) {\n      cardStack.push(item);\n    }\n\n    setCardStack([...cardStack]);\n  };\n  const checkStack = () => {\n    console.log(canClearIndex);\n    if (canClearIndex > -1) {\n      cardStack.splice(canClearIndex, 3);\n      setCardStack([...cardStack]);\n    } else if (cardStack.length === 7) {\n      alert(\"gg\");\n    }\n\n    setCanClearIndex(-1);\n  };\n  useEffect(() => {\n    // console.log(\"update..\");\n    console.log(cardStack);\n    checkStack();\n  }, [cardStack]);\n  const [cardList, setCardList] = useState([]);\n  const [itemWidth, setWidthState] = useState(0);\n\n  useEffect(() => {\n    if (!appRef) return;\n    const itemWidth =\n      Number(window.getComputedStyle(appRef.current).width.split(\".\")[0] - 40) /\n      8;\n    setWidthState(itemWidth);\n    console.log(itemWidth);\n    const initList = [];\n    for (let i = 0; i < 64; i++) {\n      initList.push({\n        width: itemWidth,\n        imageUrl: images[Math.floor(Math.random() * 7)]\n      });\n    }\n    setCardList(initList);\n  }, []);\n  return (\n    <div className=\"App\" ref={appRef}>\n      <Header />\n      <GameBox cardList={cardList} clickItem={clickItem} />\n      <Footer cardStack={[...cardStack]} style={{ width: itemWidth * 7 }} />\n      <Tool />\n    </div>\n  );\n}\n","import { StrictMode } from \"react\";\nimport { createRoot } from \"react-dom/client\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nconst root = createRoot(rootElement);\n\nroot.render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);\n"],"sourceRoot":""}